# 프로그래머스 SQL 문제 풀이

## Level 1

1. [특정 형질을 가지는 대장균 찾기]⭐

  - MySQL 전용 문제
  - MySQL에서의 비트마스킹

2. [가장 큰 물고기 10마리 구하기]

  - MySQL 전용 문제

3. [한 해에 잡은 물고기 수 구하기]⭐

  - MySQL 전용 문제
  - SUBSTR로 풀수 있다
  - SUBSTR(STRING, num1, num2) : num1번째 문자부터 num2글자를 추출

4. [잡은 물고기 중 가장 큰 물고기의 길이 구하기]⭐

  - MySQL 전용 문제
  - CONCAT 함수!!

5. [잡은 물고기의 평균 길이 구하기]⭐

  - MySQL 전용 문제
  - FROM 절에 서브쿼리에 별칭 꼭 붙여야함!! (WHERE절은 생략 가능)
  - 그냥 IFNULL을 AVG로 감싸면 된다...

6. [잔챙이 잡은 수 구하기]

  - MySQL전용 문제

7. [Python 개발자 찾기]⭐

  - MySQL 전용 문제
  - OR 3개 대신에 WHERE 'KEYWORD' IN (COl1, COl2, COl3) 쓰면 더 간단함

8. [조건에 부합하는 중고거래 댓글 조회하기]

  - 과일로 만든 아이스크림 고르기와 유사한 문제

9. [특정 옵션이 포함된 자동차 리스트 구하기]⭐

  - MySQL / Oracle 동일
  - IN 사용하면 안됨 : IN은 문자열 전체 일치해야만 가능

10. [자동차 대여 기록에서 장기/단기 대여 구분하기]⭐⭐

  - MySQL과 Oracle 다름
  - 대여일 범위 주의 !! (>=29라고 해야함)
  - 날짜 차이
    - MySQL: DATEDIFF(end_date, start_date)
    - Oracle: end_date - start_date 직접 계산

11. [평균 일일 대여 요금 구하기]⭐

  - 단일 집계 → GROUP BY 없이 WHERE + AVG()만으로 해결 가능
  - group by 쓴다면 MySQL과 Oracle 다름
  - Oracle은 group by 이후 정렬할 때, 집계되지 않은 컬럼은 order by에 올 수 없다

12. [조건에 맞는 도서 리스트 출력하기]

  - 조건에 맞는 회원수 구하기와 유사한 문제

13. [과일로 만든 아이스크림 고르기]⭐

  - MySQL / Oracle 동일
  - JOIN 대신 FROM 테이블A, 테이블B 사용
  - JOIN 대신 서브쿼리로 풀어도 됨

14. [인기있는 아이스크림]

  - MySQL / Oracle 동일

15. [흉부외과 또는 일반외과 의사 목록 출력하기]⭐

  - MySQL과 Oracle 다름
  - DATE_FORMAT() : %M, %D와 %m, %d 다름
  - IN은 MySQL Oracle 둘 다 가능
  - OR 대신 IN 사용 가능

16. [12세 이하인 여자 환자 목록 출력하기]

  - 경기도에 위치한 식품창고 목록 출력하기와 유사한 문제

17. [가장 비싼 상품 구하기]

  - MySQL / Oracle 동일

18. [조건에 맞는 회원수 구하기]⭐⭐

  - MySQL / Oracle 다름
  - BETWEEN은 양쪽 모두 포함 (>= AND <=)

  - LEFT, YEAR, DATE_FORMAT 함수는 MySQL에만
  - MySQL에서는 날짜 BETWEEN 바로 가능, Oracle은 타입 변환 필요
  - 날짜 처리 차이:
    - MySQL : DATE_FORMAT(JOINED, '%Y') / YEAR(JOINED)
    - Oracle : TO_CHAR(JOINED, 'YYYY')

19. [나이 정보가 없는 회원 수 구하기]

  - MySQL / Oracle 동일

20. [경기도에 위치한 식품창고 목록 출력하기]⭐⭐

  - MySQL / Oracle 모두 CASE, COALESCE 사용 가능
  - CASE 구문 다시 보기
    - WHEN 두개 vs WHEN ELSE

  - 널 처리 함수는 다름
    - MySQL : IFNULL(col, 값)
    - Oracle : NVL(col, 값)

  - IF 써도 다름 !!
  - IF() 문은 MySQL에서만 사용 가능 (IF(조건, 참일 때, 거짓일 때))

21. [강원도에 위치한 생산공장 목록 출력하기]⭐

  - MySQL / Oracle 동일
  - Oracle에서 문자열 비교 시 쌍따옴표 사용 불가 → 반드시 작은따옴표 사용

22. [최댓값 구하기]

  - 상위 n개 레코드와 유사한 문제

23. [이름이 있는 동물의 아이디]

  - MySQL / Oracle 동일

24. [상위 n개 레코드]⭐⭐

  - MySQL / Oracle 다름
  - MySQL : ORDER BY 뒤에 LIMIT n
  - Oracle : WhERE절에 ROWNUM < 2, ROWNUM은 ORDER BY보다 먼저 실행되므로, 정렬 후 상위 n개를 가져오려면 서브쿼리 사용

25. [여러 기준으로 정렬하기]

  - MySQL / Oracle 동일

26. [동물의 아이디와 이름]

  - MySQL / Oracle 동일

27. [이름이 없는 동물의 아이디]

  - MySQL / Oracle 동일

28. [어린 동물 찾기]⭐

  - MySQL / Oracle 동일
  - != 와 <> 는 같은 의미

29. [아픈 동물 찾기]

  - MySQL / Oracle 동일

30. [역순 정렬하기]

  - MySQL / Oracle 동일

31. [모든 레코드 조회하기]

  - MySQL / Oracle 동일

---

## Level 2

1. [부모의 형질을 모두 가지는 대장균 찾기]⭐⭐

  - MySQL 전용 문제
  - FROM에 테이블 2개면 CROSS JOIN !!!!
  - 특정 형질을 가지는 대장균 찾기와 유사한 문제

2. [연도별 대장균 크기의 편차 구하기]⭐⭐

  - MySQL 전용 문제
  - 서브쿼리를 SELECT문에 넣을 수 있다..

3. [분기별 분화된 대장균의 개체 수 구하기]⭐

  - MySQL 전용 문제
  - QUARTER() 함수가 있음

4. [특정 물고기를 잡은 총 수 구하기]⭐⭐

  - MySQL 전용 문제
  - Group By 안쓰고 WHERE 쓰면 됨

5. [월별 잡은 물고기 수 구하기]

  - MySQL 전용 문제

6. [물고기 종류 별 잡은 수 구하기]⭐⭐

  - MySQL 전용 문제
  - 반올림/올림/내림 함수
    - ROUND(값, 자릿수) : 자릿수까지 나타나도록 반올림
    - CEIL(값) : 소수점 값의 상관없이 올림을 진행
    - FLOOR(값) : 소수점 값의 상관없이 내림을 진행
    - TRUNCATE(값, 자릿수) : 자릿수까지 내림을 진행

7. [노선별 평균 역 사이 거리 조회하기]

  - MySQL 전용 문제

8. [연도 별 평균 미세먼지 농도 조회하기]⭐

  - MySQL 전용 문제
  - ROUND(,n) : 소숫점 (n+1)자리에서 반올림

9. [조건에 맞는 사원 정보 조회하기]⭐⭐

  - MySQL 전용 문제
  - GROUP BY 두개 묶을 수 있다 -> Having으로 연도 조건 걸어줌

10. [조건에 맞는 개발자 찾기]⭐⭐

  - MySQL 전용 문제
  - SKILLCODES 테이블에서 조회해야함 <- 예시랑 테케가 다를 수 있다
  - 특정 형질을 가지는 대장균 찾기와 유사한 문제

11. [업그레이드 된 아이템 구하기]⭐⭐

  - MySQL 전용 문제
  - 서브쿼리 어디에 쓸 지
  - IN을 써야 할 때

12. [ROOT 아이템 구하기]⭐

  - MySQL 전용 문제
  - JOIN 개념 확인

13. [조건에 맞는 아이템들의 가격의 총합 구하기]

  - MySQL 전용 문제

14. [조건에 부합하는 중고거래 상태 조회하기]

  - MySQL / Oracle 다름

15. [자동차 평균 대여 기간 구하기]⭐⭐

  - Oracle : 'FM99990.0' <- .0 도 나와야 하기 때문
    - FM : Trim 역할
    - 99990 : 5자리
    - .0 : 소수점 한자리 까지

16. [자동차 종류 별 특정 옵션이 포함된 자동차 수 구하기]⭐

  - MySQL / Oracle 동일 
  - 좀 더 깔끔하게 하는 법 : REGEXP_LIKE(컬럼명, '조건1|조건2|조건3')

17. [조건에 맞는 도서와 저자 리스트 출력하기]

  - 조건에 맞는 회원수 구하기와 유사한 문제

18. [성분으로 구분한 아이스크림 총 주문량]

  - MySQL / Oracle 동일

19. [진료과별 총 예약 횟수 출력하기]⭐

  - MySQL / Oracle 다름
  - Oracle 별칭 "" 해야함 ''안됨

20. [재구매가 일어난 상품과 회원 리스트 구하기]⭐⭐

  - MySQL 전용 문제
  - HAVING 쓸지, WHERE 쓸 지

21. [상품 별 오프라인 매출 구하기]

  - MySQL / Oracle 동일

22. [가격대 별 상품 개수 구하기]⭐⭐

  - ROUND가 아니라 FLOOR

23. [카테고리 별 상품 개수 구하기]⭐

  - Oracle은 group by 절에 select의 별칭 못 씀

24. [3월에 태어난 여성 회원 목록 출력하기]

  - 조건에 맞는 회원수 구하기와 유사한 문제

25. [가격이 제일 비싼 식품의 정보 출력하기]

  - 상위 n개 레코드와 유사한 문제

26. [DATETIME에서 DATE로 형 변환]

  - 조건에 맞는 회원수 구하기와 유사한 문제

27. [입양 시각 구하기(1)]⭐⭐

  - Oracle 주의 !!
    - 'HH24'써야함
    - BETWEEN에 '' 쓰면 문자열 비교라 잘못된 결과
    - TO_CHAR을 TO_NUMBER로 감싸고 숫자로 비교함
  - MySQL은 문자열이 숫자로만 구성되어 있으면 자동으로 숫자로 바꿔서 비교해줌

28. [NULL 처리하기]

  - 나이 정보가 없는 회원 수 구하기와 유사한 문제

29. [중성화 여부 파악하기]

  - MySQL / Oracle 동일

30. [중복 제거하기]

  - MySQL / Oracle 동일

31. [동물 수 구하기]

  - MySQL / Oracle 동일

32. [이름에 el이 들어가는 동물 찾기]⭐⭐

  - MySQL / Oracle 다름!!
  - MySQL은 대소문자 구분 안 함
  - Oracle은 대소문자 구분함 → LOWER() 또는 UPPER() 함수로 통일 후 비교

33. [루시와 엘라 찾기]⭐

  - MySQL / Oracle 동일
  - IN 사용 할 떄, 안할 때 구분

34. [동명 동물 수 찾기]⭐

  - MySQL / Oracle 동일
  - having절에 별칭 사용하지 않기

35. [고양이와 개는 몇 마리 있을까]

  - MySQL / Oracle 동일 

36. [최솟값 구하기]

  - 상위 n개 레코드와 유사한 문제

---

## Level 3

1. [대장균의 크기에 따라 분류하기 2]⭐⭐

  - PERCENT_RANK() 함수 사용

2. [대장균의 크기에 따라 분류하기 1]

  - MySQL 전용 문제

3. [대장균들의 자식의 수 구하기]⭐⭐

  - COUNT 뭘로 할지 (* 하면 안됨)

4. [특정 조건을 만족하는 물고기별 수와 최대 길이 구하기]

  - MySQL 전용 문제

5. [물고기 종류 별 대어 찾기]

  - MySQL 전용 문제

6. [부서별 평균 연봉 조회하기]

  - MySQL 전용 문제

7. [업그레이드 할 수 없는 아이템 구하기]⭐

  - MySQL 전용 문제
  - NOT IN 사용

8. [조회수가 가장 많은 중고거래 게시판의 첨부파일 조회하기]

  - 자동차 대여 기록에서 장기/단기 대여 구분하기와 유사한 문제

9. [조건에 맞는 사용자 정보 조회하기]⭐⭐

  - Oracle : concat 대신 ||
  - 문제 잘 일으면 JOIN 쓸 필요 없다

10. [조건에 맞는 사용자와 총 거래금액 조회하기]⭐⭐

  - Oracle : Group by 한 컬럼만 보인다(Group by로 같이 묶어줘야함)

11. [대여 기록이 존재하는 자동차 리스트 구하기]

  - MySQL / Oracle 다름

12. [자동차 대여 기록에서 대여중 / 대여 가능 여부 구분하기]⭐⭐

  - 서브쿼리를 사용해 대여 시작 일자와 대여 종료 일자 사이에 있는 CAR_ID를 구하고 IN 사용
  - GROUP BY도 사용해야함
  오라클
    - To_DATE() 함수가 있다

13. [대여 횟수가 많은 자동차들의 월별 대여 횟수 구하기]⭐⭐

  - 서브 쿼리 써야함
  - 서브 쿼리에서 월 필터링 해도 또 where절에서 필터링 해줘야함
  - 2022 10월까지면 < 11-01로 해야 59분 59초 까지 포함 가능 

14. [카테고리 별 도서 판매량 집계하기]⭐

  - sum이랑 count 헷갈림

15. [즐겨찾기가 가장 많은 식당 정보 출력하기]⭐⭐

  - MySQL / Oracle 동일 
  - WHERE ~ IN에서 그룹으로 묶을 수 있다

16. [조건별로 분류하여 주문상태 출력하기]

  - 조건에 맞는 회원수 구하기와 유사한 문제

17. [헤비 유저가 소유한 장소]

  - MySQL / Oracle 동일

18. [오랜 기간 보호한 동물(2)]

  - 자동차 대여 기록에서 장기/단기 대여 구분하기와 유사한 문제

19. [오랜 기간 보호한 동물(1)]⭐⭐

  - Oracle : 서브쿼리에서 컬럼 지정

20. [있었는데요 없었습니다]

  - MySQL / Oracle 동일 

21. [없어진 기록 찾기]

  - MySQL / Oracle 동일

---

## Level 4

[연간 평가점수에 해당하는 평가 등급 및 성과금 조회하기]⭐⭐

  - CASE문 2개
  - YEAR로 GROUP BY가 아니라 사번으로 GROUP BY



---

## MySQL vs Oracle 문법 차이 정리

### MySQL에만 있는 것

- LIMIT
  - SQL문 맨 마지막, ORDER BY절 뒤에 수행

- NULL 처리
  - IFNULL
  - IF(A,B,C) : A가 참이면 B로 대체, 거짓이면 C 반환

- 문자열 함수
  - LEFT(문자열, 길이)
  - CONCAT(문자열1, 문자열2, ...)

- 날짜 함수
  - YEAR(날짜)
  - DATE_FORMAT(날짜, 포맷)
  - DATEDIFF(날짜1, 날짜2)
  - QUARTER(날짜)

- 반올림/올림/내림 함수
  - ROUND(값, 자릿수) : 자릿수까지 나타나도록 반올림
  - CEIL(값) : 소수점 값의 상관없이 올림을 진행
  - FLOOR(값) : 소수점 값의 상관없이 내림을 진행
  - TRUNCATE(값, 자릿수) : 자릿수까지 내림을 진행

- 대/소문자 구분 안함

---

### Oracle에만 있는 것

- ROWNUM
  - ROWNUM은 WHERE절에 위치, ORDER BY절 앞에 수행 (서브쿼리가 필요한 경우 있음)

- NULL 처리
  - NVL

- 문자열 연결
  - || 연산자

- 날짜/숫자 포맷
  - TO_CHAR(날짜/숫자, 포맷)
  - TO_NUMBER(문자열)
  - 시간 포맷 : 'HH24' 사용

- 별칭 규칙
  - 컬럼 별칭에 공백/특수문자 포함 시 쌍따옴표(") 필수
  - 문자열 비교는 작은따옴표(')만 사용
  - 테이블 별칭에 AS를 사용하지 않음

- 대/소문자 구분함

- GROUP BY 제약
  - GROUP BY절에 SELECT의 별칭 사용 불가
  - GROUP BY한 컬럼만 SELECT 가능

---

### 공통으로 사용 가능
- COALESCE(대상 데이터, NULL일 때 데이터)
- CASE WHEN ... THEN ... ELSE ... END
- SUBSTR(문자열, 시작위치, 길이)
- BETWEEN ... AND ... (양쪽 끝값 모두 포함)
- != 와 <> (둘 다 같은 의미)
- REGEXP_LIKE(컬럼명, '조건1|조건2|조건3|')
- PERCENT_RANK(): 백분위 순위 계산

---

### 주요 대응 관계

| 기능 | MySQL | Oracle |
|------|-------|--------|
| 상위 N개 | LIMIT N | ROWNUM <= N (서브쿼리 필요) |
| NULL 처리 | IFNULL | NVL |
| 날짜 포맷 | DATE_FORMAT | TO_CHAR |
| 날짜 차이 | DATEDIFF | 직접 계산 (날짜1 - 날짜2) |
| 문자열 연결 | CONCAT | 연산자 |
| 테이블 별칭 | AS 사용 가능 | AS 사용 불가 |
| 대소문자 | 구분 안 함 | 구분함 |
| 문자열 따옴표 | 작은/쌍따옴표 모두 가능 | 작은따옴표만 사용 |
| GROUP BY 별칭 | 사용 가능 | 사용 불가 |